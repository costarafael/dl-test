{"version":3,"file":"entityHelpers-BKFEPAjO.js","sources":["../../node_modules/@heroicons/react/24/outline/esm/PlusIcon.js","../../node_modules/@heroicons/react/24/outline/esm/TrashIcon.js","../../src/utils/entityHelpers.ts"],"sourcesContent":["import * as React from \"react\";\nfunction PlusIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 4.5v15m7.5-7.5h-15\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PlusIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction TrashIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(TrashIcon);\nexport default ForwardRef;","// Utilitários para busca e lookup de entidades\n\n// Função genérica para criar lookups por ID\nexport const createEntityLookup = <T extends { id: string }>(entities: T[] | null | undefined) => \n  (id: string): T | undefined => entities?.find(e => e.id === id);\n\n// Função genérica para criar lookups por qualquer campo\nexport const createFieldLookup = <T, K extends keyof T>(entities: T[] | undefined, field: K) => \n  (value: T[K]): T | undefined => entities?.find(e => e[field] === value);\n\n// Função para buscar múltiplas entidades por IDs\nexport const findEntitiesByIds = <T extends { id: string }>(\n  entities: T[] | undefined, \n  ids: string[]\n): T[] => {\n  if (!entities || !ids.length) return [];\n  return entities.filter(entity => ids.includes(entity.id));\n};\n\n// Função para agrupar entidades por um campo\nexport const groupEntitiesBy = <T, K extends keyof T>(\n  entities: T[] | undefined,\n  field: K\n): Record<string, T[]> => {\n  if (!entities) return {};\n  \n  return entities.reduce((groups, entity) => {\n    const key = String(entity[field]);\n    if (!groups[key]) {\n      groups[key] = [];\n    }\n    groups[key].push(entity);\n    return groups;\n  }, {} as Record<string, T[]>);\n};\n\n// Função para filtrar entidades por múltiplos critérios\nexport const filterEntities = <T>(\n  entities: T[] | undefined,\n  filters: Partial<Record<keyof T, any>>\n): T[] => {\n  if (!entities) return [];\n  \n  return entities.filter(entity => {\n    return Object.entries(filters).every(([key, value]) => {\n      if (value === undefined || value === null || value === '' || value === 'todos' || value === 'todas') {\n        return true;\n      }\n      return entity[key as keyof T] === value;\n    });\n  });\n};\n\n// Função para buscar entidades por texto\nexport const searchEntities = <T>(\n  entities: T[] | undefined,\n  searchTerm: string,\n  searchFields: (keyof T)[]\n): T[] => {\n  if (!entities || !searchTerm.trim()) return entities || [];\n  \n  const normalizedSearch = searchTerm.toLowerCase().trim();\n  \n  return entities.filter(entity => {\n    return searchFields.some(field => {\n      const fieldValue = entity[field];\n      if (typeof fieldValue === 'string') {\n        return fieldValue.toLowerCase().includes(normalizedSearch);\n      }\n      if (typeof fieldValue === 'number') {\n        return String(fieldValue).includes(normalizedSearch);\n      }\n      return false;\n    });\n  });\n};\n\n// Função para paginar entidades\nexport const paginateEntities = <T>(\n  entities: T[] | undefined,\n  page: number,\n  itemsPerPage: number\n): {\n  items: T[];\n  totalPages: number;\n  totalItems: number;\n  currentPage: number;\n  hasNext: boolean;\n  hasPrev: boolean;\n} => {\n  if (!entities) {\n    return {\n      items: [],\n      totalPages: 0,\n      totalItems: 0,\n      currentPage: page,\n      hasNext: false,\n      hasPrev: false,\n    };\n  }\n\n  const totalItems = entities.length;\n  const totalPages = Math.ceil(totalItems / itemsPerPage);\n  const startIndex = (page - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  \n  return {\n    items: entities.slice(startIndex, endIndex),\n    totalPages,\n    totalItems,\n    currentPage: page,\n    hasNext: page < totalPages,\n    hasPrev: page > 1,\n  };\n};\n\n// Função para ordenar entidades\nexport const sortEntities = <T>(\n  entities: T[] | undefined,\n  sortField: keyof T,\n  sortDirection: 'asc' | 'desc' = 'asc'\n): T[] => {\n  if (!entities) return [];\n  \n  return [...entities].sort((a, b) => {\n    const aValue = a[sortField];\n    const bValue = b[sortField];\n    \n    // Handle null/undefined values\n    if (aValue == null && bValue == null) return 0;\n    if (aValue == null) return sortDirection === 'asc' ? 1 : -1;\n    if (bValue == null) return sortDirection === 'asc' ? -1 : 1;\n    \n    // Handle string comparison\n    if (typeof aValue === 'string' && typeof bValue === 'string') {\n      const comparison = aValue.localeCompare(bValue, 'pt-BR');\n      return sortDirection === 'asc' ? comparison : -comparison;\n    }\n    \n    // Handle number/date comparison\n    if (aValue < bValue) return sortDirection === 'asc' ? -1 : 1;\n    if (aValue > bValue) return sortDirection === 'asc' ? 1 : -1;\n    return 0;\n  });\n};\n\n// Função combinada para aplicar filtros, busca, ordenação e paginação\nexport const processEntities = <T>(\n  entities: T[] | undefined,\n  {\n    filters = {},\n    searchTerm = '',\n    searchFields = [],\n    sortField,\n    sortDirection = 'asc',\n    page = 1,\n    itemsPerPage = 10\n  }: {\n    filters?: Partial<Record<keyof T, any>>;\n    searchTerm?: string;\n    searchFields?: (keyof T)[];\n    sortField?: keyof T;\n    sortDirection?: 'asc' | 'desc';\n    page?: number;\n    itemsPerPage?: number;\n  }\n) => {\n  let processedEntities = entities || [];\n  \n  // 1. Apply filters\n  processedEntities = filterEntities(processedEntities, filters);\n  \n  // 2. Apply search\n  if (searchTerm && searchFields.length > 0) {\n    processedEntities = searchEntities(processedEntities, searchTerm, searchFields);\n  }\n  \n  // 3. Apply sorting\n  if (sortField) {\n    processedEntities = sortEntities(processedEntities, sortField, sortDirection);\n  }\n  \n  // 4. Apply pagination\n  return paginateEntities(processedEntities, page, itemsPerPage);\n};"],"names":["PlusIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","TrashIcon","createEntityLookup","entities","id","createFieldLookup","field","value","e","filterEntities","filters","entity","key","searchEntities","searchTerm","searchFields","normalizedSearch","fieldValue","paginateEntities","page","itemsPerPage","totalItems","totalPages","startIndex","endIndex","sortEntities","sortField","sortDirection","a","b","aValue","bValue","comparison","processEntities","processedEntities"],"mappings":"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","x_google_ignoreList":[0,1]}