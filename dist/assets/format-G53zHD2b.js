const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/estoqueHelpers-D6sB3H2E.js","assets/dateHelpers-C52cMW5X.js","assets/index-DOaqLF5S.js","assets/index-B1zjWaTr.css"])))=>i.map(i=>d[i]);
import{_ as w,r as p}from"./index-DOaqLF5S.js";const R="https://epi-bk.onrender.com",i=async(t,e)=>{try{console.log(`ðŸ”— API Request: ${R}${t}`);const a=await fetch(`${R}${t}`,{headers:{"Content-Type":"application/json",...e==null?void 0:e.headers},mode:"cors",...e});if(!a.ok){const n=await a.text();throw new Error(`HTTP ${a.status}: ${n||a.statusText}`)}const r=await a.json();return console.log(`âœ… API Response: ${r.length||Object.keys(r).length} items`),r}catch(a){throw console.error("ðŸš¨ API Request failed:",a),a instanceof TypeError&&a.message.includes("fetch")?new Error("NÃ£o foi possÃ­vel conectar ao servidor. Verifique se o JSON Server estÃ¡ rodando na porta 3001."):a}},O=t=>({getAll:()=>i(`/${t}`),getById:e=>i(`/${t}/${e}`),create:e=>i(`/${t}`,{method:"POST",body:JSON.stringify(e)}),update:(e,a)=>i(`/${t}/${e}`,{method:"PUT",body:JSON.stringify(a)}),patch:(e,a)=>i(`/${t}/${e}`,{method:"PATCH",body:JSON.stringify(a)}),delete:e=>i(`/${t}/${e}`,{method:"DELETE"})}),G={getAll:()=>w(()=>import("./data-BSKl3oWz.js"),[]).then(t=>t.empresas),getById:t=>w(()=>import("./data-BSKl3oWz.js"),[]).then(e=>e.empresas.find(a=>a.id===t)),getByTipo:t=>w(()=>import("./data-BSKl3oWz.js"),[]).then(e=>e.empresas.filter(a=>a.tipo===t)),getContratadas:t=>w(()=>import("./data-BSKl3oWz.js"),[]).then(e=>t?e.empresas.filter(a=>a.tipo==="contratada"&&a.holdingId===t):e.empresas.filter(a=>a.tipo==="contratada"))},A={getAll:()=>w(()=>import("./data-BSKl3oWz.js"),[]).then(t=>t.colaboradores),getById:t=>w(()=>import("./data-BSKl3oWz.js"),[]).then(e=>e.colaboradores.find(a=>a.id===t)),getByEmpresa:t=>w(()=>import("./data-BSKl3oWz.js"),[]).then(e=>e.colaboradores.filter(a=>a.empresaId===t)),getByStatus:t=>w(()=>import("./data-BSKl3oWz.js"),[]).then(e=>e.colaboradores.filter(a=>a.status===t)),search:t=>w(()=>import("./data-BSKl3oWz.js"),[]).then(e=>e.colaboradores.filter(a=>a.nome.toLowerCase().includes(t.toLowerCase())))},tt={...O("tiposEPI"),getByCategoria:t=>i(`/tiposEPI?categoria=${encodeURIComponent(t)}`),getByStatus:t=>i(`/tiposEPI?status=${t}`),search:t=>i(`/tiposEPI?nomeEquipamento_like=${encodeURIComponent(t)}`)},v={...O("estoque"),getByEmpresa:t=>i(`/estoque?empresaId=${t}`),getByTipoEPI:t=>i(`/estoque?tipoEPIId=${t}`),getByStatus:t=>i(`/estoque?status=${t}`),getBaixoEstoque:()=>i("/estoque?status=baixo_estoque"),ajustarQuantidade:(t,e)=>i(`/estoque/${t}`,{method:"PATCH",body:JSON.stringify({quantidade:e})}),entrada:async(t,e)=>{const a=await i(`/estoque/${t}`),r=a.quantidade+e.quantidade,n=await i(`/estoque/${t}`,{method:"PATCH",body:JSON.stringify({quantidade:r})});return await i("/movimentacoesEstoque",{method:"POST",body:JSON.stringify({id:`mov_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,itemEstoqueId:t,tipo:"entrada",quantidade:e.quantidade,quantidadeAnterior:a.quantidade,quantidadeAtual:r,responsavelId:e.responsavelId,motivo:e.motivo,data:new Date().toISOString(),observacoes:e.observacoes,notaFiscal:e.notaFiscal})}),n},saida:async(t,e)=>{const a=await i(`/estoque/${t}`),r=a.quantidade-e.quantidade,n=await i(`/estoque/${t}`,{method:"PATCH",body:JSON.stringify({quantidade:r})});return await i("/movimentacoesEstoque",{method:"POST",body:JSON.stringify({id:`mov_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,itemEstoqueId:t,tipo:e.entregaId?"entrega":"saida",quantidade:e.quantidade,quantidadeAnterior:a.quantidade,quantidadeAtual:r,responsavelId:e.responsavelId,motivo:e.motivo,data:new Date().toISOString(),observacoes:e.observacoes,entregaId:e.entregaId})}),n},ajuste:async(t,e)=>{const a=await i(`/estoque/${t}`),r=await i(`/estoque/${t}`,{method:"PATCH",body:JSON.stringify({quantidade:e.novaQuantidade})});return await i("/movimentacoesEstoque",{method:"POST",body:JSON.stringify({id:`mov_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,itemEstoqueId:t,tipo:"ajuste",quantidade:Math.abs(e.novaQuantidade-a.quantidade),quantidadeAnterior:a.quantidade,quantidadeAtual:e.novaQuantidade,responsavelId:e.responsavelId,motivo:e.motivo,data:new Date().toISOString(),observacoes:e.observacoes})}),r}},P={...O("fichasEPI"),getByColaborador:t=>i(`/fichasEPI?colaboradorId=${t}`),getByEmpresa:t=>i(`/fichasEPI?empresaId=${t}`),getByStatus:t=>i(`/fichasEPI?status=${t}`),adicionarItem:(t,e)=>i(`/fichasEPI/${t}`).then(a=>{const r=[...a.itens||[],e];return i(`/fichasEPI/${t}`,{method:"PATCH",body:JSON.stringify({itens:r})})}),removerItem:(t,e)=>i(`/fichasEPI/${t}`).then(a=>{const r=(a.itens||[]).filter(n=>n.id!==e);return i(`/fichasEPI/${t}`,{method:"PATCH",body:JSON.stringify({itens:r})})})},q={...O("entregas"),getByFicha:t=>i(`/entregas?fichaEPIId=${t}`),getByStatus:t=>i(`/entregas?status=${t}`),getPendentesAssinatura:()=>i("/entregas?status=nao_assinado"),assinar:(t,e)=>i(`/entregas/${t}`,{method:"PATCH",body:JSON.stringify({status:"assinado",assinatura:{dataAssinatura:new Date().toISOString(),...e}})}),cancelarAssinatura:t=>i(`/entregas/${t}`,{method:"PATCH",body:JSON.stringify({status:"nao_assinado",assinatura:null})})},k={...O("historico"),getByFicha:t=>i(`/historico?fichaEPIId=${t}&_sort=data&_order=desc`),getByTipo:t=>i(`/historico?tipo=${t}`),getByResponsavel:t=>i(`/historico?responsavel=${t}`)},et={getAll:()=>i("/historicoEstoque"),getById:t=>i(`/historicoEstoque/${t}`),create:t=>i("/historicoEstoque",{method:"POST",body:JSON.stringify(t)}),getByItem:t=>i(`/historicoEstoque?itemEstoqueId=${t}&_sort=data&_order=desc`),getByTipo:t=>i(`/historicoEstoque?tipo=${t}`),getByResponsavel:t=>i(`/historicoEstoque?responsavel=${t}`),getByPeriodo:(t,e)=>i(`/historicoEstoque?data_gte=${t}&data_lte=${e}&_sort=data&_order=desc`),registrarEvento:async t=>{const e={id:`hist_est_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,...t,data:new Date().toISOString()};return i("/historicoEstoque",{method:"POST",body:JSON.stringify(e)})}},at={criarEntregaCompleta:async t=>{try{const e=await P.getById(t.fichaEPIId),a=await A.getById(e.colaboradorId);if(!a)throw new Error("Colaborador nÃ£o encontrado");const r=await q.create({id:`entrega_${Date.now()}`,fichaEPIId:t.fichaEPIId,dataEntrega:new Date().toISOString(),itens:t.itens,responsavel:t.responsavel,status:"nao_assinado",qrCode:`QR_${Date.now()}`,linkAssinatura:`https://app.datalife.com/assinatura/${Date.now()}`});try{const{processarEntregaEstoque:o}=await w(async()=>{const{processarEntregaEstoque:d}=await import("./estoqueHelpers-D6sB3H2E.js");return{processarEntregaEstoque:d}},__vite__mapDeps([0,1,2,3])),s=await o(r.id,t.fichaEPIId,t.itens.map(d=>({tipoEPIId:d.tipoEPIId,quantidade:d.quantidade})),e.empresaId,a.nome,t.responsavel);!s.sucesso&&s.erros.length>0&&console.warn("Alertas na reduÃ§Ã£o de estoque:",s.erros),console.log("Estoque processado (entrega):",s.itensProcessados)}catch(o){console.error("Erro ao processar estoque durante entrega:",o),console.warn("Entrega criada, mas estoque nÃ£o foi atualizado automaticamente")}const n=t.itens.map(o=>({id:`ficha_${o.id}`,tipoEPIId:o.tipoEPIId,quantidade:o.quantidade,dataEntrega:r.dataEntrega,dataValidade:o.dataValidade,status:"entregue",entregaId:r.id,observacoes:`Entrega #${r.id}`}));return await P.patch(t.fichaEPIId,{itens:[...e.itens||[],...n]}),await k.create({id:`hist_${Date.now()}_${Math.random().toString(36).substring(2,7)}`,fichaEPIId:t.fichaEPIId,tipo:"entrega_criada",responsavel:t.responsavel,descricao:`Entrega #${r.id} criada com ${t.itens.length} item(ns)`,data:new Date().toISOString(),detalhes:{entregaId:r.id,equipamentos:t.itens.map(o=>o.tipoEPIId),quantidades:t.itens.map(o=>o.quantidade)}}),r}catch(e){throw console.error("Erro ao criar entrega completa:",e),e}},editarEntregaCompleta:async(t,e)=>{try{const a=await q.getById(t),r=await P.getById(a.fichaEPIId),n=await A.getById(r.colaboradorId);if(!n)throw new Error("Colaborador nÃ£o encontrado");const o=a.itens.map(c=>({tipoEPIId:c.tipoEPIId,quantidade:c.quantidade})),s=e.map(c=>({tipoEPIId:c.tipoEPIId,quantidade:c.quantidade}));try{const{processarEdicaoEntregaEstoque:c}=await w(async()=>{const{processarEdicaoEntregaEstoque:f}=await import("./estoqueHelpers-D6sB3H2E.js");return{processarEdicaoEntregaEstoque:f}},__vite__mapDeps([0,1,2,3])),l=await c(t,o,s,r.empresaId,n.nome,a.responsavel);!l.sucesso&&l.erros.length>0&&console.warn("Alertas no ajuste de estoque (ediÃ§Ã£o):",l.erros),console.log("Estoque ajustado (ediÃ§Ã£o):",l.ajustes)}catch(c){console.error("Erro ao processar ajuste de estoque durante ediÃ§Ã£o:",c),console.warn("Entrega editada, mas estoque nÃ£o foi ajustado automaticamente")}const d=await q.update(t,{...a,itens:e,dataEntrega:new Date().toISOString()}),m=r.itens.filter(c=>c.entregaId!==t),u=e.map(c=>({id:`ficha_edit_${c.id}`,tipoEPIId:c.tipoEPIId,quantidade:c.quantidade,dataEntrega:d.dataEntrega,dataValidade:c.dataValidade,status:"entregue",entregaId:t,observacoes:`Entrega #${t} (editada)`}));return await P.update(a.fichaEPIId,{...r,itens:[...m,...u]}),await k.create({id:`hist_${Date.now()}_${Math.random().toString(36).substring(2,7)}`,fichaEPIId:a.fichaEPIId,tipo:"entrega_editada",responsavel:a.responsavel,descricao:`Entrega #${t} editada - ${e.length} item(ns)`,data:new Date().toISOString(),detalhes:{entregaId:t,equipamentos:e.map(c=>c.tipoEPIId),quantidades:e.map(c=>c.quantidade)}}),d}catch(a){throw console.error("Erro ao editar entrega completa:",a),a}},excluirEntregaCompleta:async t=>{try{const e=await q.getById(t),a=await P.getById(e.fichaEPIId),r=a.itens.filter(n=>n.entregaId!==t);return await P.update(e.fichaEPIId,{...a,itens:r}),await k.create({id:`hist_${Date.now()}_${Math.random().toString(36).substring(2,7)}`,fichaEPIId:e.fichaEPIId,tipo:"entrega_excluida",responsavel:e.responsavel,descricao:`Entrega #${t} excluÃ­da - ${e.itens.length} item(ns) removidos`,data:new Date().toISOString(),detalhes:{entregaId:t,equipamentos:e.itens.map(n=>n.tipoEPIId),quantidades:e.itens.map(n=>n.quantidade)}}),await q.delete(t),!0}catch(e){throw console.error("Erro ao excluir entrega completa:",e),e}},processarDevolucao:async t=>{try{const e=await P.getById(t.fichaEPIId),a=await A.getById(e.colaboradorId);if(!a)throw new Error("Colaborador nÃ£o encontrado");try{const{processarDevolucaoEstoque:n}=await w(async()=>{const{processarDevolucaoEstoque:s}=await import("./estoqueHelpers-D6sB3H2E.js");return{processarDevolucaoEstoque:s}},__vite__mapDeps([0,1,2,3])),o=await n(t.fichaEPIId,t.itens.map(s=>({tipoEPIId:s.tipoEPIId,quantidade:s.quantidade,motivo:s.motivo})),e.empresaId,a.nome,t.responsavel);!o.sucesso&&o.erros.length>0&&console.warn("Alertas na devoluÃ§Ã£o de estoque:",o.erros),console.log("Estoque processado (devoluÃ§Ã£o):",o.itensProcessados)}catch(n){console.error("Erro ao processar devoluÃ§Ã£o no estoque:",n)}const r=e.itens.map(n=>{const o=t.itens.find(s=>s.id===n.id);return o?{...n,status:"devolvido",dataVencimento:new Date().toISOString(),observacoes:o.motivo||"Item devolvido"}:n});return await P.update(t.fichaEPIId,{...e,itens:r}),await k.create({id:`hist_${Date.now()}_${Math.random().toString(36).substring(2,7)}`,fichaEPIId:t.fichaEPIId,tipo:"devolucao_processada",responsavel:t.responsavel,descricao:`DevoluÃ§Ã£o de ${t.itens.length} item(ns) processada`,data:new Date().toISOString(),detalhes:{equipamentos:t.itens.map(n=>n.tipoEPIId),quantidades:t.itens.map(n=>n.quantidade),motivos:t.itens.map(n=>n.motivo||"NÃ£o informado")}}),{sucesso:!0,itensDevolvidos:t.itens.length}}catch(e){throw console.error("Erro ao processar devoluÃ§Ã£o:",e),e}},getFichaCompleta:async t=>{try{const[e,a]=await Promise.all([P.getById(t),q.getByFicha(t)]),[r,n]=await Promise.all([A.getById(e.colaboradorId),G.getById(e.empresaId)]);return{ficha:e,colaborador:r,empresa:n,entregas:a}}catch(e){throw console.error("Erro ao buscar ficha completa:",e),e}}},D={...O("notasEntrada"),getByEmpresa:t=>i(`/notasEntrada?empresaId=${t}&_sort=data&_order=desc`),getByStatus:t=>i(`/notasEntrada?status=${t}&_sort=data&_order=desc`),getByResponsavel:t=>i(`/notasEntrada?responsavel=${t}&_sort=data&_order=desc`),getByPeriodo:(t,e)=>i(`/notasEntrada?data_gte=${t}&data_lte=${e}&_sort=data&_order=desc`),processar:async t=>{const e=await i(`/notasEntrada/${t}`);await i(`/notasEntrada/${t}`,{method:"PATCH",body:JSON.stringify({status:"processada",dataProcessamento:new Date().toISOString()})});for(const a of e.itens)try{const r=`estoque_almox_${a.tipoEPIId}`;try{await v.getById(r)}catch{console.log(`Criando item de estoque para ${a.tipoEPIId}`),await v.create({id:r,tipoEPIId:a.tipoEPIId,empresaId:"almoxarifado",quantidade:0,quantidadeMinima:10,localizacao:"Almoxarifado Central",lote:a.lote||`LOTE-${Date.now()}`,dataValidade:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0]})}await v.entrada(r,{quantidade:a.quantidade,responsavelId:e.responsavel,motivo:`Entrada via Nota ${e.numeroNota}`,notaFiscal:e.notaFiscal,observacoes:`Processamento automÃ¡tico da nota de entrada ${e.numeroNota}`})}catch(r){console.error(`Erro ao processar item ${a.tipoEPIId} da nota ${e.numeroNota}:`,r)}return e}},M={...O("notasSaida"),getByEmpresa:t=>i(`/notasSaida?empresaId=${t}&_sort=data&_order=desc`),getByStatus:t=>i(`/notasSaida?status=${t}&_sort=data&_order=desc`),getByResponsavel:t=>i(`/notasSaida?responsavel=${t}&_sort=data&_order=desc`),getByPeriodo:(t,e)=>i(`/notasSaida?data_gte=${t}&data_lte=${e}&_sort=data&_order=desc`),processar:async t=>{const e=await i(`/notasSaida/${t}`);await i(`/notasSaida/${t}`,{method:"PATCH",body:JSON.stringify({status:"processada",dataProcessamento:new Date().toISOString()})});for(const a of e.itens)try{const r=`estoque_almox_${a.tipoEPIId}`;try{await v.getById(r)}catch{console.warn(`Item de estoque ${r} nÃ£o encontrado para saÃ­da. OperaÃ§Ã£o cancelada.`);continue}await v.saida(r,{quantidade:a.quantidade,responsavelId:e.responsavel,motivo:`SaÃ­da via Nota ${e.numeroNota}`,observacoes:`Processamento automÃ¡tico da nota de saÃ­da ${e.numeroNota} - ${e.destinatario||"DestinatÃ¡rio nÃ£o informado"}`})}catch(r){console.error(`Erro ao processar item ${a.tipoEPIId} da nota ${e.numeroNota}:`,r)}return e}},rt={criarMovimentacao:async t=>{const e=Date.now(),a=`${t.tipo.toUpperCase()}-${e}`,r={id:`nota_${t.tipo}_${e}`,numeroNota:a,empresaId:"almoxarifado",data:new Date().toISOString(),responsavel:t.responsavel,motivo:t.motivo,status:"pendente",observacoes:t.observacoes,itens:t.itens.map(o=>({id:`item_${e}_${Math.random().toString(36).substr(2,5)}`,...o}))};t.tipo==="entrada"?Object.assign(r,{fornecedor:t.fornecedor,notaFiscal:t.notaFiscal,valorTotal:t.itens.reduce((o,s)=>o+s.quantidade*(s.custoUnitario||0),0)}):Object.assign(r,{destinatario:t.destinatario,solicitante:t.solicitante});const n=t.tipo==="entrada"?await D.create(r):await M.create(r);return t.tipo==="entrada"?await D.processar(n.id):await M.processar(n.id),n},editarNota:async(t,e,a)=>{const r=e==="entrada"?await D.getById(t):await M.getById(t);if(r.status==="processada")for(const s of r.itens)try{e==="entrada"?await v.saida(`estoque_almox_${s.tipoEPIId}`,{quantidade:s.quantidade,responsavelId:r.responsavel,motivo:`ReversÃ£o da nota ${r.numeroNota} (ediÃ§Ã£o)`,observacoes:"Estorno automÃ¡tico para ediÃ§Ã£o da nota"}):await v.entrada(`estoque_almox_${s.tipoEPIId}`,{quantidade:s.quantidade,responsavelId:r.responsavel,motivo:`ReversÃ£o da nota ${r.numeroNota} (ediÃ§Ã£o)`,observacoes:"Estorno automÃ¡tico para ediÃ§Ã£o da nota"})}catch(d){console.error(`Erro ao reverter item ${s.tipoEPIId}:`,d)}const n={...r,itens:a,status:"pendente"},o=e==="entrada"?await D.update(t,n):await M.update(t,n);return e==="entrada"?await D.processar(t):await M.processar(t),o}},C=Object.freeze(Object.defineProperty({__proto__:null,colaboradoresAPI:A,empresasAPI:G,entregasAPI:q,estoqueAPI:v,fichasEPIAPI:P,historicoAPI:k,historicoEstoqueAPI:et,movimentacaoNotasAPI:rt,notasEntradaAPI:D,notasSaidaAPI:M,operacoesAPI:at,tiposEPIAPI:tt},Symbol.toStringTag,{value:"Module"}));function le(t,e=[]){const[a,r]=p.useState(null),[n,o]=p.useState(!0),[s,d]=p.useState(null);return p.useEffect(()=>{let u=!0;return(async()=>{try{o(!0),d(null);const l=await t();u&&r(l)}catch(l){u&&(d(l instanceof Error?l.message:"Erro desconhecido"),console.error("API Error:",l))}finally{u&&o(!1)}})(),()=>{u=!1}},e),{data:a,loading:n,error:s,refetch:async()=>{try{o(!0),d(null);const u=await t();r(u)}catch(u){d(u instanceof Error?u.message:"Erro desconhecido"),console.error("API Refetch Error:",u)}finally{o(!1)}}}}function he(){const[t,e]=p.useState([]),[a,r]=p.useState(!0),[n,o]=p.useState(null),s=async(u=0)=>{try{r(!0),o(null);const{fichasEPIAPI:c}=await w(async()=>{const{fichasEPIAPI:f}=await Promise.resolve().then(()=>C);return{fichasEPIAPI:f}},void 0),l=await c.getAll();e(l)}catch(c){if(console.error("Load Fichas Error:",c),u<3&&c instanceof Error&&c.message.includes("conectar ao servidor")){console.log(`Tentativa ${u+1}/3 de reconexÃ£o em 2s...`),setTimeout(()=>s(u+1),2e3);return}o(c instanceof Error?c.message:"Erro ao carregar fichas")}finally{r(!1)}};return p.useEffect(()=>{s()},[]),{fichas:t,loading:a,error:n,loadFichas:s,createFicha:async u=>{try{const{fichasEPIAPI:c}=await w(async()=>{const{fichasEPIAPI:f}=await Promise.resolve().then(()=>C);return{fichasEPIAPI:f}},void 0),l=await c.create(u);return e(f=>[...f,l]),l}catch(c){throw o(c instanceof Error?c.message:"Erro ao criar ficha"),c}},updateFicha:async(u,c)=>{try{const{fichasEPIAPI:l}=await w(async()=>{const{fichasEPIAPI:I}=await Promise.resolve().then(()=>C);return{fichasEPIAPI:I}},void 0),f=await l.update(u,c);return e(I=>I.map(g=>g.id===u?f:g)),f}catch(l){throw o(l instanceof Error?l.message:"Erro ao atualizar ficha"),l}}}}const z=6048e5,nt=864e5,L=Symbol.for("constructDateFrom");function _(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&L in t?t[L](e):t instanceof Date?new t.constructor(e):new Date(e)}function E(t,e){return _(e||t,t)}let ot={};function F(){return ot}function W(t,e){var d,m,u,c;const a=F(),r=(e==null?void 0:e.weekStartsOn)??((m=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??a.weekStartsOn??((c=(u=a.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,n=E(t,e==null?void 0:e.in),o=n.getDay(),s=(o<r?7:0)+o-r;return n.setDate(n.getDate()-s),n.setHours(0,0,0,0),n}function B(t,e){return W(t,{...e,weekStartsOn:1})}function U(t,e){const a=E(t,e==null?void 0:e.in),r=a.getFullYear(),n=_(a,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const o=B(n),s=_(a,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const d=B(s);return a.getTime()>=o.getTime()?r+1:a.getTime()>=d.getTime()?r:r-1}function H(t){const e=E(t),a=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return a.setUTCFullYear(e.getFullYear()),+t-+a}function st(t,...e){const a=_.bind(null,e.find(r=>typeof r=="object"));return e.map(a)}function V(t,e){const a=E(t,e==null?void 0:e.in);return a.setHours(0,0,0,0),a}function it(t,e,a){const[r,n]=st(a==null?void 0:a.in,t,e),o=V(r),s=V(n),d=+o-H(o),m=+s-H(s);return Math.round((d-m)/nt)}function ct(t,e){const a=U(t,e),r=_(t,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),B(r)}function dt(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ut(t){return!(!dt(t)&&typeof t!="number"||isNaN(+E(t)))}function lt(t,e){const a=E(t,e==null?void 0:e.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}const ht={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mt=(t,e,a)=>{let r;const n=ht[t];return typeof n=="string"?r=n:e===1?r=n.one:r=n.other.replace("{{count}}",e.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function Y(t){return(e={})=>{const a=e.width?String(e.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const ft={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yt={date:Y({formats:ft,defaultWidth:"full"}),time:Y({formats:gt,defaultWidth:"full"}),dateTime:Y({formats:wt,defaultWidth:"full"})},Et={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Pt=(t,e,a,r)=>Et[t];function T(t){return(e,a)=>{const r=a!=null&&a.context?String(a.context):"standalone";let n;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,d=a!=null&&a.width?String(a.width):s;n=t.formattingValues[d]||t.formattingValues[s]}else{const s=t.defaultWidth,d=a!=null&&a.width?String(a.width):t.defaultWidth;n=t.values[d]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return n[o]}}const It={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},St=(t,e)=>{const a=Number(t),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Ot={ordinalNumber:St,era:T({values:It,defaultWidth:"wide"}),quarter:T({values:bt,defaultWidth:"wide",argumentCallback:t=>t-1}),month:T({values:pt,defaultWidth:"wide"}),day:T({values:vt,defaultWidth:"wide"}),dayPeriod:T({values:_t,defaultWidth:"wide",formattingValues:qt,defaultFormattingWidth:"wide"})};function x(t){return(e,a={})=>{const r=a.width,n=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(n);if(!o)return null;const s=o[0],d=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(d)?Dt(d,l=>l.test(s)):$t(d,l=>l.test(s));let u;u=t.valueCallback?t.valueCallback(m):m,u=a.valueCallback?a.valueCallback(u):u;const c=e.slice(s.length);return{value:u,rest:c}}}function $t(t,e){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&e(t[a]))return a}function Dt(t,e){for(let a=0;a<t.length;a++)if(e(t[a]))return a}function Mt(t){return(e,a={})=>{const r=e.match(t.matchPattern);if(!r)return null;const n=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=a.valueCallback?a.valueCallback(s):s;const d=e.slice(n.length);return{value:s,rest:d}}}const Tt=/^(\d+)(th|st|nd|rd)?/i,xt=/\d+/i,At={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kt={any:[/^b/i,/^(a|c)/i]},Wt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bt={any:[/1/i,/2/i,/3/i,/4/i]},Ft={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Nt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ct={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Yt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Rt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Lt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ht={ordinalNumber:Mt({matchPattern:Tt,parsePattern:xt,valueCallback:t=>parseInt(t,10)}),era:x({matchPatterns:At,defaultMatchWidth:"wide",parsePatterns:kt,defaultParseWidth:"any"}),quarter:x({matchPatterns:Wt,defaultMatchWidth:"wide",parsePatterns:Bt,defaultParseWidth:"any",valueCallback:t=>t+1}),month:x({matchPatterns:Ft,defaultMatchWidth:"wide",parsePatterns:Nt,defaultParseWidth:"any"}),day:x({matchPatterns:Ct,defaultMatchWidth:"wide",parsePatterns:Yt,defaultParseWidth:"any"}),dayPeriod:x({matchPatterns:Rt,defaultMatchWidth:"any",parsePatterns:Lt,defaultParseWidth:"any"})},Vt={code:"en-US",formatDistance:mt,formatLong:yt,formatRelative:Pt,localize:Ot,match:Ht,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jt(t,e){const a=E(t,e==null?void 0:e.in);return it(a,lt(a))+1}function Qt(t,e){const a=E(t,e==null?void 0:e.in),r=+B(a)-+ct(a);return Math.round(r/z)+1}function K(t,e){var c,l,f,I;const a=E(t,e==null?void 0:e.in),r=a.getFullYear(),n=F(),o=(e==null?void 0:e.firstWeekContainsDate)??((l=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((I=(f=n.locale)==null?void 0:f.options)==null?void 0:I.firstWeekContainsDate)??1,s=_((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const d=W(s,e),m=_((e==null?void 0:e.in)||t,0);m.setFullYear(r,0,o),m.setHours(0,0,0,0);const u=W(m,e);return+a>=+d?r+1:+a>=+u?r:r-1}function Jt(t,e){var d,m,u,c;const a=F(),r=(e==null?void 0:e.firstWeekContainsDate)??((m=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((c=(u=a.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,n=K(t,e),o=_((e==null?void 0:e.in)||t,0);return o.setFullYear(n,0,r),o.setHours(0,0,0,0),W(o,e)}function Xt(t,e){const a=E(t,e==null?void 0:e.in),r=+W(a,e)-+Jt(a,e);return Math.round(r/z)+1}function h(t,e){const a=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return a+r}const b={y(t,e){const a=t.getFullYear(),r=a>0?a:1-a;return h(e==="yy"?r%100:r,e.length)},M(t,e){const a=t.getMonth();return e==="M"?String(a+1):h(a+1,2)},d(t,e){return h(t.getDate(),e.length)},a(t,e){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,e){return h(t.getHours()%12||12,e.length)},H(t,e){return h(t.getHours(),e.length)},m(t,e){return h(t.getMinutes(),e.length)},s(t,e){return h(t.getSeconds(),e.length)},S(t,e){const a=e.length,r=t.getMilliseconds(),n=Math.trunc(r*Math.pow(10,a-3));return h(n,e.length)}},$={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},j={G:function(t,e,a){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(t,e,a){if(e==="yo"){const r=t.getFullYear(),n=r>0?r:1-r;return a.ordinalNumber(n,{unit:"year"})}return b.y(t,e)},Y:function(t,e,a,r){const n=K(t,r),o=n>0?n:1-n;if(e==="YY"){const s=o%100;return h(s,2)}return e==="Yo"?a.ordinalNumber(o,{unit:"year"}):h(o,e.length)},R:function(t,e){const a=U(t);return h(a,e.length)},u:function(t,e){const a=t.getFullYear();return h(a,e.length)},Q:function(t,e,a){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return h(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,a){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return h(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,a){const r=t.getMonth();switch(e){case"M":case"MM":return b.M(t,e);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,a){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return h(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,a,r){const n=Xt(t,r);return e==="wo"?a.ordinalNumber(n,{unit:"week"}):h(n,e.length)},I:function(t,e,a){const r=Qt(t);return e==="Io"?a.ordinalNumber(r,{unit:"week"}):h(r,e.length)},d:function(t,e,a){return e==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):b.d(t,e)},D:function(t,e,a){const r=jt(t);return e==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):h(r,e.length)},E:function(t,e,a){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,a,r){const n=t.getDay(),o=(n-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return h(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(t,e,a,r){const n=t.getDay(),o=(n-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return h(o,e.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(t,e,a){const r=t.getDay(),n=r===0?7:r;switch(e){case"i":return String(n);case"ii":return h(n,e.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,a){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,e,a){const r=t.getHours();let n;switch(r===12?n=$.noon:r===0?n=$.midnight:n=r/12>=1?"pm":"am",e){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,e,a){const r=t.getHours();let n;switch(r>=17?n=$.evening:r>=12?n=$.afternoon:r>=4?n=$.morning:n=$.night,e){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,e,a){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return b.h(t,e)},H:function(t,e,a){return e==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):b.H(t,e)},K:function(t,e,a){const r=t.getHours()%12;return e==="Ko"?a.ordinalNumber(r,{unit:"hour"}):h(r,e.length)},k:function(t,e,a){let r=t.getHours();return r===0&&(r=24),e==="ko"?a.ordinalNumber(r,{unit:"hour"}):h(r,e.length)},m:function(t,e,a){return e==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):b.m(t,e)},s:function(t,e,a){return e==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):b.s(t,e)},S:function(t,e){return b.S(t,e)},X:function(t,e,a){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return J(r);case"XXXX":case"XX":return S(r);case"XXXXX":case"XXX":default:return S(r,":")}},x:function(t,e,a){const r=t.getTimezoneOffset();switch(e){case"x":return J(r);case"xxxx":case"xx":return S(r);case"xxxxx":case"xxx":default:return S(r,":")}},O:function(t,e,a){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Q(r,":");case"OOOO":default:return"GMT"+S(r,":")}},z:function(t,e,a){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Q(r,":");case"zzzz":default:return"GMT"+S(r,":")}},t:function(t,e,a){const r=Math.trunc(+t/1e3);return h(r,e.length)},T:function(t,e,a){return h(+t,e.length)}};function Q(t,e=""){const a=t>0?"-":"+",r=Math.abs(t),n=Math.trunc(r/60),o=r%60;return o===0?a+String(n):a+String(n)+e+h(o,2)}function J(t,e){return t%60===0?(t>0?"-":"+")+h(Math.abs(t)/60,2):S(t,e)}function S(t,e=""){const a=t>0?"-":"+",r=Math.abs(t),n=h(Math.trunc(r/60),2),o=h(r%60,2);return a+n+e+o}const X=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Z=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Gt=(t,e)=>{const a=t.match(/(P+)(p+)?/)||[],r=a[1],n=a[2];if(!n)return X(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",X(r,e)).replace("{{time}}",Z(n,e))},zt={p:Z,P:Gt},Ut=/^D+$/,Kt=/^Y+$/,Zt=["D","DD","YY","YYYY"];function te(t){return Ut.test(t)}function ee(t){return Kt.test(t)}function ae(t,e,a){const r=re(t,e,a);if(console.warn(r),Zt.includes(t))throw new RangeError(r)}function re(t,e,a){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,se=/^'([^]*?)'?$/,ie=/''/g,ce=/[a-zA-Z]/;function me(t,e,a){var c,l,f,I;const r=F(),n=r.locale??Vt,o=r.firstWeekContainsDate??((l=(c=r.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??1,s=r.weekStartsOn??((I=(f=r.locale)==null?void 0:f.options)==null?void 0:I.weekStartsOn)??0,d=E(t,a==null?void 0:a.in);if(!ut(d))throw new RangeError("Invalid time value");let m=e.match(oe).map(g=>{const y=g[0];if(y==="p"||y==="P"){const N=zt[y];return N(g,n.formatLong)}return g}).join("").match(ne).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:de(g)};if(j[y])return{isToken:!0,value:g};if(y.match(ce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});n.localize.preprocessor&&(m=n.localize.preprocessor(d,m));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:n};return m.map(g=>{if(!g.isToken)return g.value;const y=g.value;(ee(y)||te(y))&&ae(y,e,String(t));const N=j[y[0]];return N(d,y,n.localize,u)}).join("")}function de(t){const e=t.match(se);return e?e[1].replace(ie,"'"):t}export{M as a,k as b,he as c,G as d,v as e,me as f,A as g,et as h,q as i,st as j,it as k,E as l,rt as m,D as n,at as o,C as p,tt as t,le as u};
//# sourceMappingURL=format-G53zHD2b.js.map
